# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml
trigger:
- main  

pool:
  name: development
  demands:
    - agent.name -equals LAPTOP-SM2SURAK 

steps:
- script: echo "Running on LAPTOP-SM2SURAK"
  displayName: 'Run a script on a specific agent'


- task: Docker@2
  displayName: 'Build and Push Docker Image'
  inputs:
    containerRegistry: 'YourDockerRegistryServiceConnection'  # Configure this in Azure DevOps
    repository: 'yourdockerhubusername/your-image-name'
    command: 'buildAndPush'
    Dockerfile: '**/Dockerfile'

- script: docker run yourdockerhubusername/your-image-name
  displayName: 'Run Docker Container'
